<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title></title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		#box{
			width: 300px;
			height: 300px;
			background: url(img/1.jpg);
			background-size: 100%;
			float: left;
		}
		#box_1{
			width: 150px;
			height: 150px;
			background: rgba(0,0,0,0.6);
			display: none;
			cursor: pointer;
		}
		#shadow{
			width: 300px;
			height: 300px;
			float: left;	
			display: none;	
			background: url(img/1.jpg);
			background-size: 200%;	
		}
	</style>
</head>
<body>
	<div id="box">
		<div id="box_1">			
		</div>
	</div>
	<div id="shadow"></div>
	<script type="text/javascript">
		var box = document.getElementById("box");
		var box_1 = document.getElementById("box_1");
		var shadow = document.getElementById("shadow");
		//鼠标移入时
		box.onmouseenter=function(){
			box_1.style.display="block";
			shadow.style.display="block";
		};
		//鼠标移动时
		box.onmousemove=function(e){
			box_1.style.marginLeft=e.clientX-box_1.offsetWidth/2+"px";
			box_1.style.marginTop=e.clientY-box_1.offsetHeight/2+"px";
			shadow.style.backgroundPositionX=-2*(e.clientX-box_1.offsetWidth/2)+"px";
		    shadow.style.backgroundPositionY=-2*(e.clientY-box_1.offsetWidth/2)+"px";
		if(e.clientY<box.offsetTop+box_1.offsetHeight/2){
			shadow.style.backgroundPositionY=0+"px";
			box_1.style.marginTop=0+"px";
		};
        if(e.clientX<box.offsetLeft+box_1.offsetWidth/2){
			shadow.style.backgroundPositionX=0+"px";
			box_1.style.marginLeft=0+"px";
		};
        if(e.clientY>box.offsetTop-box_1.offsetHeight/2+box.offsetHeight){
			shadow.style.backgroundPositionY=-2*(box.offsetHeight-box_1.offsetHeight)+'px';
			box_1.style.marginTop=box.offsetHeight-box_1.offsetHeight+"px";
		};
		if(e.clientX>box.offsetLeft-box_1.offsetWidth/2+box.offsetWidth){
			shadow.style.backgroundPositionX=-2*(box.offsetWidth-box_1.offsetWidth)+'px';
			box_1.style.marginLeft=box.offsetWidth-box_1.offsetWidth+"px";
		};
		};	
		//鼠标移出时
		box.onmouseleave=function(){
			box_1.style.display="none";
			shadow.style.display="none";
		};
	</script>
</body>
</html>